{"ast":null,"code":"var _s = $RefreshSig$();\n// import { useState } from \"react\";\n\n// function UserInfo() {\n//     const [username, setusername] = useState(\"\");\n//     const [loggedIn, setLoggedIn] = useState(false);\n//     const [role, setRole] = useState(\"\");\n//     const [email, setemail] = useState(\"\");\n//     const [address, setAddress] = useState(\"\");\n\n//     const SetAllInfo = (user) => {\n//         console.log(user);\n//         setLoggedIn(true);\n//         setusername(user.username);\n//         setRole(user.role);\n//         setemail(user.email);\n//         setAddress(user.address)\n//     };\n\n//     return {\n//         username,\n//         setusername, \n//         SetAllInfo,\n//         loggedIn,\n//         setLoggedIn,\n//         role,\n//         email,\n//         setAddress,\n//         address\n//     };\n// };\n\n// export default UserInfo;\nimport { useState, useEffect } from \"react\";\nconst LOCAL_STORAGE_KEY = 'userInfo';\nfunction UserInfo() {\n  _s();\n  // Initialize state with default values or values from localStorage\n  const [username, setUsername] = useState(() => {\n    const savedUser = JSON.parse(localStorage.getItem(LOCAL_STORAGE_KEY));\n    return (savedUser === null || savedUser === void 0 ? void 0 : savedUser.username) || \"\";\n  });\n  const [loggedIn, setLoggedIn] = useState(() => {\n    const savedUser = JSON.parse(localStorage.getItem(LOCAL_STORAGE_KEY));\n    return (savedUser === null || savedUser === void 0 ? void 0 : savedUser.loggedIn) || false;\n  });\n  const [role, setRole] = useState(() => {\n    const savedUser = JSON.parse(localStorage.getItem(LOCAL_STORAGE_KEY));\n    return (savedUser === null || savedUser === void 0 ? void 0 : savedUser.role) || \"\";\n  });\n  const [email, setEmail] = useState(() => {\n    const savedUser = JSON.parse(localStorage.getItem(LOCAL_STORAGE_KEY));\n    return (savedUser === null || savedUser === void 0 ? void 0 : savedUser.email) || \"\";\n  });\n  const [address, setAddress] = useState(() => {\n    const savedUser = JSON.parse(localStorage.getItem(LOCAL_STORAGE_KEY));\n    return (savedUser === null || savedUser === void 0 ? void 0 : savedUser.address) || \"\";\n  });\n\n  // Function to update all user info and save it to localStorage\n  const SetAllInfo = user => {\n    console.log(user);\n    setLoggedIn(true);\n    setUsername(user.username);\n    setRole(user.role);\n    setEmail(user.email);\n    setAddress(user.address);\n\n    // Save user info to localStorage\n    localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify({\n      username: user.username,\n      loggedIn: true,\n      role: user.role,\n      email: user.email,\n      address: user.address\n    }));\n  };\n\n  // Optional: Use useEffect to save the state to localStorage whenever it changes\n  useEffect(() => {\n    const userInfo = {\n      username,\n      loggedIn,\n      role,\n      email,\n      address\n    };\n    localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(userInfo));\n  }, [username, loggedIn, role, email, address]);\n  return {\n    username,\n    setUsername,\n    SetAllInfo,\n    loggedIn,\n    setLoggedIn,\n    role,\n    email,\n    setEmail,\n    address,\n    setAddress\n  };\n}\n_s(UserInfo, \"3USQMJC/QSOXh4nM+rg61sQWw3o=\");\n_c = UserInfo;\n;\nexport default UserInfo;\nvar _c;\n$RefreshReg$(_c, \"UserInfo\");","map":{"version":3,"names":["useState","useEffect","LOCAL_STORAGE_KEY","UserInfo","_s","username","setUsername","savedUser","JSON","parse","localStorage","getItem","loggedIn","setLoggedIn","role","setRole","email","setEmail","address","setAddress","SetAllInfo","user","console","log","setItem","stringify","userInfo","_c","$RefreshReg$"],"sources":["D:/university/8/IE/CA/1-2/MizDooni/CA6/Frontend/src/utility/userInfo.js"],"sourcesContent":["// import { useState } from \"react\";\r\n\r\n// function UserInfo() {\r\n//     const [username, setusername] = useState(\"\");\r\n//     const [loggedIn, setLoggedIn] = useState(false);\r\n//     const [role, setRole] = useState(\"\");\r\n//     const [email, setemail] = useState(\"\");\r\n//     const [address, setAddress] = useState(\"\");\r\n    \r\n//     const SetAllInfo = (user) => {\r\n//         console.log(user);\r\n//         setLoggedIn(true);\r\n//         setusername(user.username);\r\n//         setRole(user.role);\r\n//         setemail(user.email);\r\n//         setAddress(user.address)\r\n//     };\r\n\r\n//     return {\r\n//         username,\r\n//         setusername, \r\n//         SetAllInfo,\r\n//         loggedIn,\r\n//         setLoggedIn,\r\n//         role,\r\n//         email,\r\n//         setAddress,\r\n//         address\r\n//     };\r\n// };\r\n\r\n// export default UserInfo;\r\nimport { useState, useEffect } from \"react\";\r\n\r\nconst LOCAL_STORAGE_KEY = 'userInfo';\r\n\r\nfunction UserInfo() {\r\n    // Initialize state with default values or values from localStorage\r\n    const [username, setUsername] = useState(() => {\r\n        const savedUser = JSON.parse(localStorage.getItem(LOCAL_STORAGE_KEY));\r\n        return savedUser?.username || \"\";\r\n    });\r\n    const [loggedIn, setLoggedIn] = useState(() => {\r\n        const savedUser = JSON.parse(localStorage.getItem(LOCAL_STORAGE_KEY));\r\n        return savedUser?.loggedIn || false;\r\n    });\r\n    const [role, setRole] = useState(() => {\r\n        const savedUser = JSON.parse(localStorage.getItem(LOCAL_STORAGE_KEY));\r\n        return savedUser?.role || \"\";\r\n    });\r\n    const [email, setEmail] = useState(() => {\r\n        const savedUser = JSON.parse(localStorage.getItem(LOCAL_STORAGE_KEY));\r\n        return savedUser?.email || \"\";\r\n    });\r\n    const [address, setAddress] = useState(() => {\r\n        const savedUser = JSON.parse(localStorage.getItem(LOCAL_STORAGE_KEY));\r\n        return savedUser?.address || \"\";\r\n    });\r\n\r\n    // Function to update all user info and save it to localStorage\r\n    const SetAllInfo = (user) => {\r\n        console.log(user);\r\n        setLoggedIn(true);\r\n        setUsername(user.username);\r\n        setRole(user.role);\r\n        setEmail(user.email);\r\n        setAddress(user.address);\r\n\r\n        // Save user info to localStorage\r\n        localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify({\r\n            username: user.username,\r\n            loggedIn: true,\r\n            role: user.role,\r\n            email: user.email,\r\n            address: user.address\r\n        }));\r\n    };\r\n\r\n    // Optional: Use useEffect to save the state to localStorage whenever it changes\r\n    useEffect(() => {\r\n        const userInfo = { username, loggedIn, role, email, address };\r\n        localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(userInfo));\r\n    }, [username, loggedIn, role, email, address]);\r\n\r\n    return {\r\n        username,\r\n        setUsername, \r\n        SetAllInfo,\r\n        loggedIn,\r\n        setLoggedIn,\r\n        role,\r\n        email,\r\n        setEmail,\r\n        address,\r\n        setAddress\r\n    };\r\n};\r\n\r\nexport default UserInfo;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}